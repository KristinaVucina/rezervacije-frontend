import{s as z}from"./button.esm.176c9bc5.js";import{s as U}from"./dialog.esm.2c7777a7.js";import{u as $}from"./reservations.f4e3efdf.js";import{u as R}from"./user.35ce83ad.js";import{K as N,r as b,l as p,h as S,o as j,c as w,a as c,t as _,b as i,w as f,j as s,k as h,d as B,L as E,q as I,M as O,g as K,N as q}from"./entry.09a97c7c.js";import{s as D}from"./carousel.esm.eaf30ed6.js";import{u as k}from"./clubs.06f429c6.js";import{u as C}from"./events.edefe436.js";import"./basecomponent.esm.3856a85c.js";import"./index.esm.939a8cf6.js";import"./baseicon.esm.70c71574.js";import"./index.esm.f7ed4036.js";import"./portal.esm.e9d6b7fc.js";import"./index.esm.afb01eb8.js";import"./index.esm.f25d3f89.js";import"./index.esm.0914ce63.js";const F={class:"text-2xl font-bold text-white"},T={class:"text-white"},A={__name:"EventCard",props:{event:{type:Object,required:!0}},setup(r){const o=r,l=N(),m=async()=>{var t,e;await $().create({person_count:n.value,event_id:o.event.id,user_id:(e=(t=R())==null?void 0:t.value)==null?void 0:e.id}),await I().getUser(!0),l.add({severity:"info",summary:"Rezervirano",detail:"Uspješno ste napravili rezervaciju.",life:3e3}),a.value=!1},n=b(0),x=p(()=>{var t,e;return(e=(t=o.event)==null?void 0:t.club)==null?void 0:e.max_person_count}),a=b(!1),v=O(),d=p(()=>o.event.image_url.startsWith("http")?o.event.image_url:v.public.apiUrl.replace(/\/$/,"")+o.event.image_url);return(t,e)=>{const g=z,y=S("FormKit"),V=U;return j(),w("div",{class:"p-d-flex p-flex-column p-jc-center p-ai-center mx-2 p-3",style:E(`height: 250px; background-image: url(${s(d)}); background-size: cover; background-position: center;`)},[c("h3",F,_(r.event.name),1),c("p",T,_(r.event.description),1),i(g,{label:"Rezervacija",icon:"pi pi-external-link",onClick:e[0]||(e[0]=u=>a.value=!0)}),i(V,{visible:s(a),"onUpdate:visible":e[2]||(e[2]=u=>h(a)?a.value=u:null),modal:"",header:"Unesite broj osoba za rezervaciju",style:{width:"50vw"}},{default:f(()=>[i(y,{type:"primeInputNumber",name:"person_count",label:"Broj osoba",modelValue:s(n),"onUpdate:modelValue":e[1]||(e[1]=u=>h(n)?n.value=u:null),validation:`between:0,${s(x)}`,"validation-visibility":"live"},null,8,["modelValue","validation"]),i(g,{onClick:m},{default:f(()=>[B("Rezerviraj")]),_:1})]),_:1},8,["visible"])],4)}}},L={key:0},M={class:"text-5xl font-bold text-white pt-10 pl-10 text-center"},P=c("h2",{class:"text-2xl font-bold text-white pt-10 pl-10 pb-10"},"Nadolazeći događaji",-1),le={__name:"[club]",setup(r){const o=K();k().getClub(parseInt(o.params.club));const l=p(()=>k().club.value);C().getEvents(parseInt(o.params.club));const m=p(()=>C().events.value),n=b([{breakpoint:"1199px",numVisible:3,numScroll:3},{breakpoint:"991px",numVisible:2,numScroll:2},{breakpoint:"767px",numVisible:1,numScroll:1}]);return(x,a)=>{const v=A,d=D;return s(l)?(j(),w("div",L,[c("h1",M,_(s(l).name),1),P,i(d,{value:s(m),numVisible:3,numScroll:1,responsiveOptions:s(n)},{item:f(t=>[i(v,{event:t.data},null,8,["event"])]),_:1},8,["value","responsiveOptions"])])):q("",!0)}}};export{le as default};
