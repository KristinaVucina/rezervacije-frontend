import{s as c}from"./card.esm.158861a4.js";import{_ as v,r as V,g,h as b,c as f,b as s,w as i,i as j,o as x,j as t,k as y,a as d,n as U,p as I,e as w}from"./entry.20cfffcf.js";import{u as r}from"./events.f8502c29.js";import"./basecomponent.esm.5167c39c.js";const T=u=>(I("data-v-3b168029"),u=u(),w(),u),S={class:"flex justify-center max-h-screen h-screen"},h=T(()=>d("h1",null,"Uredi Dogadjaj",-1)),F={class:"double"},K={class:"double"},k={class:"double"},C={class:"double"},D={__name:"index",setup(u){const a=V({}),p=g();(async()=>{await r().getEvent(parseInt(p.params.event));const o=j("event");a.value={id:o.value.id,name:o.value.name,email:o.value.email,url:o.value.url,slug:o.value.slug,reservations_until:o.value.reservations_until,max_person_count:o.value.max_person_count,capacity:o.value.capacity,owner_id:o.value.owner_id,club_id:o.value.club_id}})();const _=async()=>{const o=new FormData;Object.entries(a.value).forEach(([e,n])=>{var m,l;if(e==="image"&&n&&((m=n[0])!=null&&m.file)){o.append(e,(l=n[0])==null?void 0:l.file);return}o.append(e,n)}),o.append("_method","PUT"),await r().update(o),await U("/admin/clubs/"+p.params.club+"/events")};return(o,e)=>{const n=b("FormKit"),m=c;return x(),f("div",S,[s(m,{class:"self-center"},{title:i(()=>[h]),content:i(()=>[s(n,{id:"registerForm",modelValue:t(a),"onUpdate:modelValue":e[8]||(e[8]=l=>y(a)?a.value=l:null),type:"form","submit-attrs":{inputClass:"p-button p-component"},onSubmit:_},{default:i(()=>[d("div",F,[s(n,{type:"primeInputText",name:"name",label:"Naziv",modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).name=l),help:"Naziv dogadjaja"},null,8,["modelValue"]),s(n,{type:"primeInputText",name:"slug",label:"Kratica",modelValue:t(a).slug,"onUpdate:modelValue":e[1]||(e[1]=l=>t(a).slug=l),help:"Kratica"},null,8,["modelValue"])]),d("div",K,[s(n,{type:"primeCalendar",name:"date",label:"Datum",modelValue:t(a).date,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).date=l),help:"Datum dogadjaja"},null,8,["modelValue"]),s(n,{type:"primeInputText",name:"description",label:"Opis",modelValue:t(a).description,"onUpdate:modelValue":e[3]||(e[3]=l=>t(a).description=l),help:"Opis dogadjaja"},null,8,["modelValue"])]),d("div",k,[s(n,{type:"file",accept:".jpg,.jpeg,.png,.svg",name:"image",label:"Slika dogadjaja",modelValue:t(a).image,"onUpdate:modelValue":e[4]||(e[4]=l=>t(a).image=l),help:"Slika dogadjaja"},null,8,["modelValue"]),s(n,{type:"primeInputText",name:"url",label:"URL",modelValue:t(a).url,"onUpdate:modelValue":e[5]||(e[5]=l=>t(a).url=l),help:"URL"},null,8,["modelValue"])]),d("div",C,[s(n,{type:"primeInputText",name:"time_start",label:"Pocetak",modelValue:t(a).time_start,"onUpdate:modelValue":e[6]||(e[6]=l=>t(a).time_start=l),help:"Pocetak dogadjaja"},null,8,["modelValue"]),s(n,{type:"primeInputText",name:"time_end",label:"Kraj",modelValue:t(a).time_end,"onUpdate:modelValue":e[7]||(e[7]=l=>t(a).time_end=l),help:"Kraj dogadjaja"},null,8,["modelValue"])])]),_:1},8,["modelValue"])]),_:1})])}}},P=v(D,[["__scopeId","data-v-3b168029"]]);export{P as default};
